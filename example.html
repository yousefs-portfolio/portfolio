<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Yousef Baitalmal | Visionary Engineer & Creator</title>
    
    <!-- Libraries -->
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.12.2/gsap.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.12.2/ScrollTrigger.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/three.js/r128/three.min.js"></script>
    
    <!-- Fonts -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;700;900&display=swap" rel="stylesheet">

    <style>
        body {
            font-family: 'Inter', sans-serif;
            background-color: #000000;
            color: #f0f0f0;
            overflow-x: hidden;
        }
        #webgl-canvas {
            position: fixed;
            top: 0;
            left: 0;
            outline: none;
        }
        .content-section {
            position: relative;
            z-index: 1;
            min-height: 100vh;
            width: 100%;
            display: flex;
            justify-content: center;
            align-items: center;
            padding: 2rem;
        }
        .content-box {
            max-width: 48rem;
            text-align: center;
            background: rgba(0, 0, 0, 0.5);
            backdrop-filter: blur(10px);
            padding: 3rem;
            border-radius: 1.5rem;
            border: 1px solid rgba(255, 255, 255, 0.1);
            opacity: 0; /* Initially hidden, controlled by GSAP */
        }
        .section-title-gradient {
            background: -webkit-linear-gradient(45deg, #4A55A2, #B9314F, #E85A4F);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
        }
        /* Hide scrollbar */
        ::-webkit-scrollbar { display: none; }
        html { -ms-overflow-style: none; scrollbar-width: none; }

        /* Modal Styles */
        .modal-overlay {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0,0,0,0.8);
            backdrop-filter: blur(20px);
            z-index: 100;
            display: flex;
            justify-content: center;
            align-items: center;
            opacity: 0;
            pointer-events: none;
            transition: opacity 0.3s ease;
        }
        .modal-overlay.active {
            opacity: 1;
            pointer-events: auto;
        }
        .modal-content {
            transform: scale(0.95);
            transition: transform 0.3s ease;
        }
        .modal-overlay.active .modal-content {
            transform: scale(1);
        }
    </style>
</head>
<body>
    <canvas id="webgl-canvas"></canvas>

    <header class="fixed top-0 left-0 right-0 z-50 p-6 flex justify-between items-center">
        <a href="/" class="text-xl font-bold tracking-tighter">YOUSEF BAITALMAL</a>
        <nav class="hidden md:flex items-center space-x-8">
            <a href="https://medium.com/" target="_blank" class="hover:text-white transition-colors">Blog</a>
            <button id="services-btn" class="hover:text-white transition-colors">Services</button>
            <a href="#contact" class="hover:text-white transition-colors">Contact</a>
        </nav>
        <button id="mobile-menu-btn" class="md:hidden z-50">
             <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 6h16M4 12h16m-7 6h7"></path></svg>
        </button>
    </header>

    <main>
        <!-- Sections remain the same -->
        <section id="hero" class="content-section">
            <div class="content-box">
                <h1 class="text-5xl md:text-8xl font-black tracking-tighter mb-4">Engineering</h1>
                <h2 class="text-5xl md:text-8xl font-black tracking-tighter section-title-gradient mb-8">from First Principles.</h2>
                <p class="max-w-3xl mx-auto text-lg md:text-xl text-gray-400">
                    Scroll to begin a journey through my stack — from the foundational logic of a systems language to the vibrant pixels of a game engine.
                </p>
            </div>
        </section>
        <section id="seen" class="content-section">
            <div class="content-box">
                <h3 class="text-sm font-semibold text-blue-400 mb-2 tracking-widest">LAYER 1: THE LANGUAGE</h3>
                <h4 class="text-5xl md:text-7xl font-bold mb-4">Seen (س)</h4>
                <p class="text-gray-400 text-lg max-w-2xl mx-auto">A revolutionary systems language built on evidence-based syntax. Here, abstract logic and compiler theory take form.</p>
            </div>
        </section>
        <section id="summon" class="content-section">
            <div class="content-box">
                <h3 class="text-sm font-semibold text-purple-400 mb-2 tracking-widest">LAYER 2: THE FRAMEWORK</h3>
                <h4 class="text-5xl md:text-7xl font-bold mb-4">Summon</h4>
                <p class="text-gray-400 text-lg max-w-2xl mx-auto">The language provides structure. With Summon, that structure becomes tangible UI components—the building blocks of modern applications.</p>
            </div>
        </section>
        <section id="hearthshire" class="content-section">
            <div class="content-box">
                <h3 class="text-sm font-semibold text-red-400 mb-2 tracking-widest">LAYER 3: THE EXPERIENCE</h3>
                <h4 class="text-5xl md:text-7xl font-bold mb-4">Hearthshire</h4>
                <p class="text-gray-400 text-lg max-w-2xl mx-auto">The final layer, where systems and components breathe life into a world. A custom Rust engine powers a universe of 10 billion voxels, rendered with a neural, painterly touch.</p>
            </div>
        </section>
        <section id="contact" class="content-section">
            <div class="content-box">
                <h2 class="text-5xl md:text-8xl font-black tracking-tighter mb-4">Let's Build.</h2>
                <p class="max-w-2xl mx-auto text-lg md:text-xl text-gray-400 mb-10">
                    If you're working on revolutionary products, I'd love to talk.
                </p>
                <a href="mailto:yousef.baitalmal.dev@email.com" class="bg-red-700 text-white px-10 py-5 rounded-lg font-semibold text-xl hover:bg-red-800 transition-all transform hover:scale-105 inline-block" style="background-color: #B9314F;">
                    yousef.baitalmal.dev@email.com
                </a>
            </div>
        </section>
    </main>

    <!-- Services Modal -->
    <div id="services-modal" class="modal-overlay">
        <div class="modal-content text-center p-8 max-w-3xl">
            <h2 class="text-4xl font-bold mb-4">Services</h2>
            <p class="text-gray-400 mb-8 text-lg">I help ambitious companies build foundational, high-performance digital products. My expertise spans from low-level systems engineering to crafting beautiful, interactive user experiences.</p>
            <div class="grid md:grid-cols-3 gap-8 text-left">
                <div class="bg-gray-900/50 p-6 rounded-lg border border-white/10">
                    <h3 class="font-bold text-xl mb-2">Systems & Engine Dev</h3>
                    <p class="text-gray-400 text-sm">Custom language design, compiler development, and high-performance game engine architecture in Rust or C++.</p>
                </div>
                <div class="bg-gray-900/50 p-6 rounded-lg border border-white/10">
                    <h3 class="font-bold text-xl mb-2">Framework Design</h3>
                    <p class="text-gray-400 text-sm">Creating bespoke UI frameworks and design systems for cross-platform applications.</p>
                </div>
                <div class="bg-gray-900/50 p-6 rounded-lg border border-white/10">
                    <h3 class="font-bold text-xl mb-2">Interactive Experiences</h3>
                    <p class="text-gray-400 text-sm">Developing unique WebGL, 3D, and creative web experiences that push technical and artistic boundaries.</p>
                </div>
            </div>
             <a href="mailto:yousef.baitalmal.dev@email.com?subject=Project Inquiry" class="mt-10 bg-red-700 text-white px-8 py-4 rounded-lg font-semibold text-lg hover:bg-red-800 transition-all transform hover:scale-105 inline-block" style="background-color: #B9314F;">Hire Me</a>
        </div>
        <button id="close-modal-btn" class="absolute top-8 right-8 text-2xl">&times;</button>
    </div>

    <script>
        // --- Modal Logic ---
        const servicesBtn = document.getElementById('services-btn');
        const servicesModal = document.getElementById('services-modal');
        const closeModalBtn = document.getElementById('close-modal-btn');

        servicesBtn.addEventListener('click', () => servicesModal.classList.add('active'));
        closeModalBtn.addEventListener('click', () => servicesModal.classList.remove('active'));
        servicesModal.addEventListener('click', (e) => {
            if (e.target === servicesModal) {
                servicesModal.classList.remove('active');
            }
        });

        // --- Smooth Scroll for Contact ---
        document.querySelector('a[href="#contact"]').addEventListener('click', function (e) {
            e.preventDefault();
            document.querySelector('#contact').scrollIntoView({ behavior: 'smooth' });
        });

        // --- Core Three.js Setup ---
        const scene = new THREE.Scene();
        const camera = new THREE.PerspectiveCamera(75, window.innerWidth / window.innerHeight, 0.1, 1000);
        const renderer = new THREE.WebGLRenderer({ canvas: document.getElementById('webgl-canvas') });
        renderer.setSize(window.innerWidth, window.innerHeight);
        renderer.setPixelRatio(Math.min(window.devicePixelRatio, 2));

        // --- Scene Objects & Visuals ---
        const seenGroup = new THREE.Group();
        const summonGroup = new THREE.Group();
        const hearthshireGroup = new THREE.Group();
        
        function createParticleTexture() {
            const canvas = document.createElement('canvas');
            canvas.width = 64;
            canvas.height = 64;
            const context = canvas.getContext('2d');
            const gradient = context.createRadialGradient(canvas.width / 2, canvas.height / 2, 0, canvas.width / 2, canvas.height / 2, canvas.width / 2);
            gradient.addColorStop(0, 'rgba(255, 255, 255, 1)');
            gradient.addColorStop(0.2, 'rgba(255, 255, 255, 0.8)');
            gradient.addColorStop(0.8, 'rgba(255, 255, 255, 0)');
            context.fillStyle = gradient;
            context.fillRect(0, 0, canvas.width, canvas.height);
            return new THREE.CanvasTexture(canvas);
        }

        const particleCount = 5000;
        const positions = new Float32Array(particleCount * 3);
        for (let i = 0; i < particleCount * 3; i++) {
            positions[i] = (Math.random() - 0.5) * 20;
        }
        const particlesGeometry = new THREE.BufferGeometry();
        particlesGeometry.setAttribute('position', new THREE.BufferAttribute(positions, 3));
        
        const particlesMaterial = new THREE.PointsMaterial({
            map: createParticleTexture(),
            color: 0x4A55A2, // Navy Blue
            size: 0.3,
            blending: THREE.AdditiveBlending,
            transparent: true,
            depthWrite: false,
        });
        
        const jrpgParticles = new THREE.Points(particlesGeometry, particlesMaterial);
        seenGroup.add(jrpgParticles);

        const boxGeometry = new THREE.BoxGeometry(1, 1, 1);
        const wireframeMaterial = new THREE.MeshBasicMaterial({ color: 0x9F7AEA, wireframe: true }); // Purple
        for (let i = 0; i < 50; i++) {
            const mesh = new THREE.Mesh(boxGeometry, wireframeMaterial);
            mesh.position.set((Math.random() - 0.5) * 15, (Math.random() - 0.5) * 15, (Math.random() - 0.5) * 15);
            mesh.scale.set(Math.random(), Math.random(), Math.random());
            mesh.rotation.set(Math.random() * Math.PI, Math.random() * Math.PI, Math.random() * Math.PI);
            summonGroup.add(mesh);
        }

        const voxelGeometry = new THREE.BoxGeometry(1, 1, 1);
        const voxelMaterial = new THREE.MeshStandardMaterial({ color: 0xB9314F }); // Maroon
        const light = new THREE.DirectionalLight(0xffffff, 1);
        light.position.set(5, 5, 5);
        hearthshireGroup.add(light);
        for (let i = 0; i < 100; i++) {
            const mesh = new THREE.Mesh(voxelGeometry, voxelMaterial);
            mesh.position.set((Math.random() - 0.5) * 10, (Math.random() - 0.5) * 2 - 2, (Math.random() - 0.5) * 10);
            hearthshireGroup.add(mesh);
        }

        seenGroup.position.z = 0;
        summonGroup.position.z = -30;
        hearthshireGroup.position.z = -60;
        scene.add(seenGroup, summonGroup, hearthshireGroup);

        // --- GSAP Scroll Animation ---
        gsap.registerPlugin(ScrollTrigger);
        const tl = gsap.timeline({
            scrollTrigger: {
                trigger: 'main',
                start: 'top top',
                end: 'bottom bottom',
                scrub: 1,
            }
        });
        tl.to(camera.position, { z: -55, ease: 'power1.inOut' })
          .to(camera.rotation, { y: Math.PI * 0.25, ease: 'power1.inOut' }, '<')
          .to(camera.rotation, { y: 0, ease: 'power1.inOut' })
          .to(camera.position, { x: 2, ease: 'power1.inOut' }, '>')
          .to(camera.position, { x: 0, z: -85, ease: 'power1.inOut' });

        const sections = ['#hero', '#seen', '#summon', '#hearthshire', '#contact'];
        sections.forEach((selector) => {
            const box = document.querySelector(selector + ' .content-box');
            gsap.to(box, {
                opacity: 1,
                scrollTrigger: {
                    trigger: selector,
                    start: 'top center',
                    end: 'bottom center',
                    toggleActions: 'play reverse play reverse'
                }
            });
        });

        // --- Mouse Interaction & Render Loop ---
        const cursor = { x: 0, y: 0 };
        window.addEventListener('mousemove', (event) => {
            cursor.x = (event.clientX / window.innerWidth) * 2 - 1;
            cursor.y = -(event.clientY / window.innerHeight) * 2 + 1;
        });
        const clock = new THREE.Clock();
        function animate() {
            const elapsedTime = clock.getElapsedTime();
            camera.position.x += (cursor.x * 0.5 - camera.position.x) * 0.05;
            camera.position.y += (cursor.y * 0.5 - camera.position.y) * 0.05;
            seenGroup.rotation.y = elapsedTime * 0.05;
            summonGroup.rotation.y = elapsedTime * 0.05;
            hearthshireGroup.rotation.y = elapsedTime * 0.05;
            renderer.render(scene, camera);
            requestAnimationFrame(animate);
        }
        animate();

        // --- Window Resize ---
        window.addEventListener('resize', () => {
            camera.aspect = window.innerWidth / window.innerHeight;
            camera.updateProjectionMatrix();
            renderer.setSize(window.innerWidth, window.innerHeight);
            renderer.setPixelRatio(Math.min(window.devicePixelRatio, 2));
        });
    </script>
</body>
</html>
